
# 📐 AI 서비스 아키텍처 개요

## 1. 전체 서비스 구조

![AI Service Architecture](attachment:AI서비스아키텍처2.drawio.png)

---

## 2. 각 모듈의 역할 및 분리 이유

| 모듈 이름 | 역할 | 분리 이유 |
|-----------|------|-----------|
| **프론트엔드 (React 등)** | 사용자 입력 (답변, 이력 정보 등), PDF 업로드, 피드백 확인, 이력서 다운로드 | UI 중심 로직만 담당. UX 변경 시 서비스 로직 영향 없이 수정 가능 |
| **FastAPI 백엔드** | 프론트 요청 수신, DB 연동, AI 모듈 호출 및 응답 정리 | 시스템 중심 허브. 사용자 데이터 저장 후 모듈 연계 |
| **AI 피드백 모듈 (LLM inference)** | 사용자의 면접 질문 답변 → 실시간 피드백 생성 | 실시간 응답이 핵심. 추론 서버를 GPU 기반 별도 인스턴스로 운영 가능 |
| **PDF 이력서 파서** | DB에 저장된 PDF 파일 → 텍스트 및 이력 정보 추출 | 비정형 데이터 처리. 프론트가 DB에 저장하고, FastAPI가 그걸 불러오는 구조. 비동기 처리 적합 |
| **이력서 자동 생성기** | DB에 저장된 사용자 정보 기반 Word 이력서 생성 | 파일 I/O 중심 로직. FastAPI가 DB에서 데이터를 가져와 처리 |
| **기업 정보/이슈 추출기** | 주기적 NLP 모델이 수집 및 분석한 데이터(DB 저장)를 백엔드가 조회 | FastAPI를 거치지 않고 DB 직접 조회. 모델은 비동기 파이프라인 기반 운영됨 |

---

## 3. 모듈 간 인터페이스 설계

| 출발 | 도착 | 방식 | 비고 |
|------|------|------|------|
| 프론트 → 백엔드 서버 | 사용자 답변, 이력서 정보, PDF 파일 업로드 | REST API | 프론트에서 입력/업로드하면 DB에 저장 |
| 프론트 → FastAPI | 피드백 요청, 이력서 생성 요청 | REST API | FastAPI는 DB에서 필요한 데이터를 가져와 처리 |
| FastAPI → AI 피드백 모듈 | Prompt 전달 → 피드백 수신 | REST API | GPU 서버 호출. 실시간 응답이 중요 |
| FastAPI → PDF 파서 | Celery 비동기 태스크 | DB에 저장된 PDF 경로 기반 처리 |
| FastAPI → 이력서 생성기 | 내부 호출 / Celery 태스크 | 사용자 정보 기반 Word 이력서 생성 |
| 백엔드 서버 → 기업 정보 DB | 기업명 기반 키워드/요약 정보 조회 | ORM or SQL 질의 | FastAPI 거치지 않고, 서버 측에서 직접 질의 후 응답 |

---

## 4. 모듈화 기대 효과 및 장점

- **모델 교체·튜닝 용이**: 피드백 모델을 실험적 교체 (Mistral → LLaMA 등) 가능  
- **처리 효율 최적화**: 실시간 작업(면접 피드백)은 GPU 서버로, 나머지는 CPU 서버로 운영 분리  
- **성능 분산**: PDF 파싱이나 이력서 생성은 비동기 큐 처리로 메인 API 서버 부하 없음  
- **확장성 보장**: 기업 요약 데이터는 별도 모델-크롤러가 주기적으로 저장하므로, 프론트 호출 시 빠른 응답 가능  
- **유지보수 유리**: 기능별 디커플링으로 장애 추적 및 기능 단위 테스트 가능  
- **병렬 개발 유리**: AI 팀과 백엔드 팀이 동시에 독립 작업 가능  

---

## 5. 팀 서비스에 적합한 구조인 이유

- 면접 피드백은 **실시간 응답이 요구되므로**, GPU 추론 서버로 분리 운영
- PDF 파싱과 이력서 생성은 **비동기 처리 + DB 기반 호출**로 느려도 무방
- 기업 정보는 FastAPI를 거치지 않고, **단순 DB 질의만으로 UI 제공 가능**
- 전체 서비스가 **AI 기능을 모듈화**해 구성되어 있어 유지보수와 확장에 유리
- 요청량 증가 시 **개별 모듈 단위로 수직/수평 확장 가능** (예: AI 피드백 서버만 따로 확장 가능)
